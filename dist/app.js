'use strict';function z(){return{G:{400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot"},K:[["Lose",0],["Jacks or Better",1],["Two Pair",2],
["Three of a Kind",3],["Straight",4],["Flush",6],["Full House",9],["Four of a Kind",25],["Straight Flush",50],["Royal Flush",800]],v:"23456789tjqka".split(""),U:["s","h","c","d"],F:{s:"#1F191B",c:"#1F191B",h:"#CB1728",d:"#CB1728"},T:{as:"\ud83c\udca1",ah:"\ud83c\udcb1",ad:"\ud83c\udcc1",ac:"\ud83c\udcd1","2s":"\ud83c\udca2","2h":"\ud83c\udcb2","2d":"\ud83c\udcc2","2c":"\ud83c\udcd2","3s":"\ud83c\udca3","3h":"\ud83c\udcb3","3d":"\ud83c\udcc3","3c":"\ud83c\udcd3","4s":"\ud83c\udca4","4h":"\ud83c\udcb4",
"4d":"\ud83c\udcc4","4c":"\ud83c\udcd4","5s":"\ud83c\udca5","5h":"\ud83c\udcb5","5d":"\ud83c\udcc5","5c":"\ud83c\udcd5","6s":"\ud83c\udca6","6h":"\ud83c\udcb6","6d":"\ud83c\udcc6","6c":"\ud83c\udcd6","7s":"\ud83c\udca7","7h":"\ud83c\udcb7","7d":"\ud83c\udcc7","7c":"\ud83c\udcd7","8s":"\ud83c\udca8","8h":"\ud83c\udcb8","8d":"\ud83c\udcc8","8c":"\ud83c\udcd8","9s":"\ud83c\udca9","9h":"\ud83c\udcb9","9d":"\ud83c\udcc9","9c":"\ud83c\udcd9",ts:"\ud83c\udcaa",th:"\ud83c\udcba",td:"\ud83c\udcca",tc:"\ud83c\udcda",
js:"\ud83c\udcab",jh:"\ud83c\udcbb",jd:"\ud83c\udccb",jc:"\ud83c\udcdb",qs:"\ud83c\udcad",qh:"\ud83c\udcbd",qd:"\ud83c\udccd",qc:"\ud83c\udcdd",ks:"\ud83c\udcae",kh:"\ud83c\udcbe",kd:"\ud83c\udcce",kc:"\ud83c\udcde"}}};CanvasRenderingContext2D.prototype.A=function(c,d,k,f,b){k<2*b&&(b=k/2);f<2*b&&(b=f/2);this.beginPath();this.moveTo(c+b,d);this.arcTo(c+k,d,c+k,d+f,b);this.arcTo(c+k,d+f,c,d+f,b);this.arcTo(c,d+f,c,d,b);this.arcTo(c,d,c+k,d,b);this.closePath()};
const F=D(),N=function(c){function d(){A=c.subscribe(e);t.o(!0)}function k(){var {G:n}=z();n=n[q];E.a(`Balance: ${q}${n?` (${n})`:""}`)}function f(){if(w){A();t.o(!1);w=!1;u=[];--q;B=G();var n=B.u(5);v.R(n).then(d);k();x.a("");t.a("Play")}else{A();t.o(!1);m();{n=v.J();const [C,y]=H(n);q+=y;k();y?x.a(`${C}, win ${y}`):x.a("Better luck next time");setTimeout(h,1E3)}}}function b(){w=!0;d();t.a("Place a bet")}function h(){418<q?(q=404+(q-418)%14,k(),b()):418>q?b():x.a("You won")}function g(n){-1===u.indexOf(n)&&
(u.push(n),v.P(n))}function m(){if(u.length){const n=B.u(u.length),C=u.map((y,K)=>[y,n[K]]);v.O(C)}}function e(n){!w&&n.L&&0<n.i&&6>n.i?g(n.i-1):n.N&&f()}const a=I(),[l,p]=a.H(),r=Math.round(.3*p),v=J(r,l,r,function(n){!w&&0<=n&&5>n&&g(n)});a.add(v);const E=L(l/2,r/3);a.add(E);const x=L(l/2,r/1.5);a.add(x);const t=M(l/2,2.5*r,f);a.add(t);let q=404,B,u,w,A;return{j:function(){v.j();k();b()}}}(F),O=function(){const c=document.querySelector(".help-outer");let d=!0;return{toggle:function(){d=!d;c.style.display=
d?"table":"none"}}}();let P=!0;F.subscribe(Q);function Q(c){c.isEscape&&(P&&(P=!1,N.j()),O.toggle())};function D(){let c={},d=[];window.addEventListener("keyup",function(k){const f=Number(k.key),b={};" "===k.key?b.N=!0:Number.isInteger(f)?(b.i=f,b.L=!0):b[`is${k.key}`]=!0;d.forEach(h=>{c[h](b)})});return{subscribe:function(k){const f=Date.now();c[f]=k;d=Object.keys(c);return function(){delete c[f];d=Object.keys(c)}},reset:function(){c={};d=[]}}};function I(){function c(a){const l=b.getBoundingClientRect();return{x:a.pageX-l.left,y:a.pageY-l.top}}function d(a){k(a);h.clearRect(0,0,b.width,b.height);f();requestAnimationFrame(d)}function k(a){m.forEach(l=>l.update(a))}function f(){g.forEach(a=>a.b())}const b=document.querySelector("canvas"),h=b.getContext("2d");let g=[],m=[],e=[];b.addEventListener("click",function(a){const l=c(a);e.forEach(p=>p(l))});b.width=window.innerWidth;b.height=window.innerHeight;h.textAlign="center";h.textBaseline=
"middle";h.lineJoin="round";requestAnimationFrame(d);return{H:function(){return[b.width,b.height]},add:function(a){a.f(h);g.push(a);"function"===typeof a.l&&e.push(a.l)},reset:function(){g=[];m=[]}}};function G(){const {U:c,v:d}=z(),k=c.reduce((f,b)=>{const h=d.map(g=>{{const {T:m,v:e,F:a}=z();g={m:g,C:b,value:e.indexOf(g),S:m[g+b],color:a[b]}}return g});return[...f,...h]},[]);for(let f=k.length-1;0<f;f--){const b=Math.floor(Math.random()*(f+1));[k[f],k[b]]=[k[b],k[f]]}return{u:function(f){return k.splice(-1*f)}}};function H(c){const {K:d}=z(),k=[...c].sort(function(m,e){return m.value<e.value?1:m.value>e.value?-1:0});let f=!0,b=!0;const h=k.reduce((m,e,a)=>{f&&0!==a&&(f=e.value===k[a-1].value-1);b&&0!==a&&(b=e.C===k[a-1].C);m[e.m]?m[e.m].push(e):m[e.m]=[e];return m},{});c=d[0];var g=b&&f;g&&h.D&&1===h.D.length?c=d[9]:g?c=d[8]:b?c=d[5]:f?c=d[4]:(g=Object.keys(h).reduce((m,e)=>{m[h[e].length].push(h[e]);return m},{1:[],2:[],3:[],4:[]}),1===g["4"].length?c=d[7]:1===g["2"].length&&1===g["3"].length?c=d[6]:1===
g["3"].length?c=d[3]:2===g["2"].length?c=d[2]:1===g["2"].length&&g["2"][0].every(m=>8<m.value)&&(c=d[1]));return c};function M(c,d,k){function f(a,l,p){return a>=Math.min(l,p)&&a<=Math.max(l,p)}var b="Place a bet";let h,g=!1;const m=c-200,e=d-40;return{b:function(){h.save();h.fillStyle="#C35B68";h.A(m,e,400,80,8);h.fill();h.fillStyle="white";h.font="40px fantasy";h.fillText(b,c,d);h.restore()},f:function(a){h=a},a:function(a){b=a},l:function(a){var l;if(l=g)l=f(a.x,m,m+400)&&f(a.y,e,e+80);l&&k()},o:function(a){g=a}}};function J(c,d,k,f){let b,h=[];const g=Math.round(.06*c),m=Math.round(.66*c);return{f:function(e){b=e},b:function(){h.forEach(e=>e.b())},P:function(e){h[e].g(!0)},O:function(e){e.forEach(([a,l])=>{h[a].B(l);h[a].g(!1)})},J:function(){return h.map(e=>e.I())},R:function(e){h.forEach((a,l)=>{a.g(!0);a.B(e[l])});return new Promise(a=>{setTimeout(()=>{h.forEach(l=>l.g(!1));a()},500)})},j:function(){const e=(d-(g+5*(m+g)))/2;h=Array.from({length:5},(a,l)=>{a=R(e+l*(m+g),k,m,c,g);a.f(b);return a})},l:function(e){let a=
0;for(;5>a&&!h[a].M(e);a++);f(a)}}};function R(c,d,k,f,b){function h(l,p,r){return l>=Math.min(p,r)&&l<=Math.max(p,r)}let g,m,e;const a=b/2;return{b:function(){g.save();g.fillStyle="white";g.A(c,d,k,f-a,a);g.fill();g.font=`${f}px sans-serif`;g.textBaseline="top";g.textAlign="left";const l=e||!m;g.fillStyle=l?"#DCB600":m.color;g.fillText(l?"\ud83c\udcbf":m.S,c,d+b);g.restore()},f:function(l){g=l},g:function(l){e=l},B:function(l){m=l},I:function(){return m},M:function(l){return h(l.x,c,c+k)&&h(l.y,d,d+f)}}};function L(c,d){var k="",f={fill:"white",fontSize:42};let b;const h=f.fontSize,g=f.fill,m=f.stroke;return{b:function(){b.save();b.font=`${h}px fantasy`;b.fillStyle=g;b.fillText(k,c,d);m&&(b.strokeStyle=m,b.strokeText(k,c,d));b.restore()},f:function(e){b=e},a:function(e){k=e}}};
