'use strict';function C(){return{G:{400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot"},K:[["",0],["Jacks or Better Pair",1],["Two Pair",2],
["Three of a Kind",3],["Straight",4],["Flush",6],["Full House",9],["Four of a Kind",25],["Straight Flush",50],["Royal Flush",800]],A:"23456789tjqka".split(""),V:["s","h","c","d"],F:{s:"#1F191B",c:"#1F191B",h:"#CB1728",d:"#CB1728"},U:{as:"\ud83c\udca1",ah:"\ud83c\udcb1",ad:"\ud83c\udcc1",ac:"\ud83c\udcd1","2s":"\ud83c\udca2","2h":"\ud83c\udcb2","2d":"\ud83c\udcc2","2c":"\ud83c\udcd2","3s":"\ud83c\udca3","3h":"\ud83c\udcb3","3d":"\ud83c\udcc3","3c":"\ud83c\udcd3","4s":"\ud83c\udca4","4h":"\ud83c\udcb4",
"4d":"\ud83c\udcc4","4c":"\ud83c\udcd4","5s":"\ud83c\udca5","5h":"\ud83c\udcb5","5d":"\ud83c\udcc5","5c":"\ud83c\udcd5","6s":"\ud83c\udca6","6h":"\ud83c\udcb6","6d":"\ud83c\udcc6","6c":"\ud83c\udcd6","7s":"\ud83c\udca7","7h":"\ud83c\udcb7","7d":"\ud83c\udcc7","7c":"\ud83c\udcd7","8s":"\ud83c\udca8","8h":"\ud83c\udcb8","8d":"\ud83c\udcc8","8c":"\ud83c\udcd8","9s":"\ud83c\udca9","9h":"\ud83c\udcb9","9d":"\ud83c\udcc9","9c":"\ud83c\udcd9",ts:"\ud83c\udcaa",th:"\ud83c\udcba",td:"\ud83c\udcca",tc:"\ud83c\udcda",
js:"\ud83c\udcab",jh:"\ud83c\udcbb",jd:"\ud83c\udccb",jc:"\ud83c\udcdb",qs:"\ud83c\udcad",qh:"\ud83c\udcbd",qd:"\ud83c\udccd",qc:"\ud83c\udcdd",ks:"\ud83c\udcae",kh:"\ud83c\udcbe",kd:"\ud83c\udcce",kc:"\ud83c\udcde"}}};CanvasRenderingContext2D.prototype.B=function(d,e,k,f,a){k<2*a&&(a=k/2);f<2*a&&(a=f/2);this.beginPath();this.moveTo(d+a,e);this.arcTo(d+k,e,d+k,e+f,a);this.arcTo(d+k,e+f,d,e+f,a);this.arcTo(d,e+f,d,e,a);this.arcTo(d,e,d+k,e,a);this.closePath()};
const L=F(),Y=function(d){function e(){G=d.subscribe(c);w.u(!0)}function k(){const {G:r}=C();M.a(r[t]||"");N.a(`BALANCE ${t}`);O.S(0<=t-404?t-404:0)}function f(){if(A){G();w.u(!1);A=!1;x=[];--t;H=Q();var r=H.v(5);y.R(r,I).then(e);I&&(I=!1);k();J.a("");D.a("");w.a("SUBMIT")}else{G();w.u(!1);h();{r=y.J();const [K,B]=R(r);t+=B;k();J.a(K);B?D.a(`Win ${B}`):D.a("Better luck next time");setTimeout(l,1E3)}}}function a(){A=!0;e();w.a("PLACE A BET")}function l(){418!==t&&(t=404>t?404:418>t?t:404+(t-418)%14,
k(),a())}function g(r){-1===x.indexOf(r)&&(w.a("DEAL AND SUBMIT"),x.push(r),y.P(r))}function h(){if(x.length){const r=H.v(x.length),K=x.map((B,U)=>[B,r[U]]);y.O(K)}}function c(r){!A&&r.L&&0<r.i&&6>r.i?g(r.i-1):r.N&&f()}const b=S(),[m,n]=b.H(),p=Math.round(.3*n),v=Math.round(.66*p),q=Math.round(.06*p),u=2*q,z=5*(v+q),E=(m-z)/2,P=p-2*q,O=T(m);b.add(O);const y=V(v,p,E,p,q,function(r){!A&&0<=r&&5>r&&g(r)});b.add(y);const N=W(m/2,p/3,{fill:"white",fontSize:u,fontFamily:"Fredoka One"});b.add(N);const M=
W(m/2,p/3+2*u,{fill:"#DCB600",fontSize:u,fontFamily:"monospace"});b.add(M);const D=W(z+E-q,P,{fill:"white",fontSize:u,textAlign:"right"});b.add(D);const J=W(E,P,{fill:"white",fontSize:u,textAlign:"left"});b.add(J);const w=X(E,2.5*p,m/2,2.5*p+40,z-q,f);b.add(w);let t=404,I=!0,H,x,A,G;return{j:function(){y.j();k();a()}}}(L),aa=function(){const d=document.querySelector(".help-outer");let e=!0;return{toggle:function(){e=!e;d.style.display=e?"table":"none"}}}();let Z=!0;L.subscribe(ba);
function ba(d){d.isEscape&&(Z&&(Z=!1,Y.j()),aa.toggle())};function F(){let d={},e=[];window.addEventListener("keyup",function(k){const f=Number(k.key),a={};" "===k.key?a.N=!0:Number.isInteger(f)?(a.i=f,a.L=!0):a[`is${k.key}`]=!0;e.forEach(l=>{d[l](a)})});return{subscribe:function(k){const f=Date.now();d[f]=k;e=Object.keys(d);return function(){delete d[f];e=Object.keys(d)}},reset:function(){d={};e=[]}}};function S(){function d(b){const m=a.getBoundingClientRect();return{x:b.pageX-m.left,y:b.pageY-m.top}}function e(b){k(b);l.clearRect(0,0,a.width,a.height);f();requestAnimationFrame(e)}function k(b){h.forEach(m=>m.update(b))}function f(){g.forEach(b=>b.b())}const a=document.querySelector("canvas"),l=a.getContext("2d");let g=[],h=[],c=[];a.addEventListener("click",function(b){const m=d(b);c.forEach(n=>n(m))});a.width=window.innerWidth;a.height=window.innerHeight;l.textAlign="center";l.textBaseline=
"middle";l.lineJoin="round";requestAnimationFrame(e);return{H:function(){return[a.width,a.height]},add:function(b){b.f(l);g.push(b);"function"===typeof b.l&&c.push(b.l);"function"===typeof b.update&&h.push(b)}}};function Q(){const {V:d,A:e}=C(),k=d.reduce((f,a)=>{const l=e.map(g=>{{const {U:h,A:c,F:b}=C();g={m:g,C:a,value:c.indexOf(g),T:h[g+a],color:b[a]}}return g});return[...f,...l]},[]);for(let f=k.length-1;0<f;f--){const a=Math.floor(Math.random()*(f+1));[k[f],k[a]]=[k[a],k[f]]}return{v:function(f){return k.splice(-1*f)}}};function R(d){const {K:e}=C(),k=[...d].sort(function(h,c){return h.value<c.value?1:h.value>c.value?-1:0});let f=!0,a=!0;const l=k.reduce((h,c,b)=>{f&&0!==b&&(f=c.value===k[b-1].value-1);a&&0!==b&&(a=c.C===k[b-1].C);h[c.m]?h[c.m].push(c):h[c.m]=[c];return h},{});d=e[0];var g=a&&f;g&&l.D&&1===l.D.length?d=e[9]:g?d=e[8]:a?d=e[5]:f?d=e[4]:(g=Object.keys(l).reduce((h,c)=>{h[l[c].length].push(l[c]);return h},{1:[],2:[],3:[],4:[]}),1===g["4"].length?d=e[7]:1===g["2"].length&&1===g["3"].length?d=e[6]:1===
g["3"].length?d=e[3]:2===g["2"].length?d=e[2]:1===g["2"].length&&g["2"][0].every(h=>8<h.value)&&(d=e[1]));return d};function X(d,e,k,f,a,l){function g(n,p,v){return n>=Math.min(p,v)&&n<=Math.max(p,v)}var h="PLACE A BET";let c,b=!1;const m=Math.round(80*.66);return{b:function(){c.save();c.fillStyle="#C35B68";c.B(d,e,a,80,8);c.fill();c.fillStyle="#DCB600";c.font=`${m}px "Fredoka One"`;c.fillText(h,k,f);c.restore()},f:function(n){c=n},a:function(n){h=n},l:function(n){var p;if(p=b)p=g(n.x,d,d+a)&&g(n.y,e,e+80);p&&l()},u:function(n){b=n}}};function V(d,e,k,f,a,l){let g,h=[];return{f:function(c){g=c},b:function(){h.forEach(c=>c.b())},P:function(c){h[c].g(.16)},O:function(c){c.forEach(([b,m])=>{h[b].o(m);h[b].g(.16)})},J:function(){return h.map(c=>c.I())},R:function(c,b){if(b)return h.reduce((m,n,p)=>m.then(()=>{n.o(c[p]);return n.g(.24)}),Promise.resolve());b=h.map((m,n)=>{m.o(c[n]);return m.g(.16)});return Promise.all(b).then(()=>h.reduce((m,n)=>m.then(()=>n.g(.24)),Promise.resolve()))},j:function(){h=Array.from({length:5},(c,b)=>{c=
ca(k+b*(d+a),f,d,e,a);c.f(g);return c})},l:function(c){let b=0;for(;5>b&&!h[b].M(c);b++);l(b)},update:function(){h.forEach(c=>c.update())}}};function ca(d,e,k,f,a){function l(q,u,z){return q>=Math.min(u,z)&&q<=Math.max(u,z)}let g,h;const c=a/2;let b=!0,m=!1,n=1,p=-.16,v=()=>{};return{b:function(){g.save();const q=k/2;g.translate(d+q,e);g.scale(n,1);g.fillStyle="white";g.B(-1*q,0,k,f-c,c);g.fill();g.font=`${f}px sans-serif`;g.textBaseline="top";g.textAlign="left";g.fillStyle=b?"#DCB600":h.color;g.fillText(b?"\ud83c\udcbf":h.T,-1*q,a);g.restore()},f:function(q){g=q},g:function(q){p=-1*q;m=!0;return new Promise(u=>{v=u})},o:function(q){h=
q},I:function(){return h},M:function(q){return l(q.x,d,d+k)&&l(q.y,e,e+f)},update:function(){m&&(n+=p,0>=n?(n=0,p*=-1,b=!b):1<=n&&(n=1,p*=-1,m=!1,v()))}}};function T(d){let e=0;const k=d/14;let f,a,l,g,h,c;l=new Image;l.onload=()=>{e+=.5;a=.06;for(h=l.width*a;h>k;)a-=.002,h=l.width*a};l.src="assets/teapot_y.svg";g=new Image;g.onload=()=>e+=.5;g.src="assets/teapot_p.svg";return{b:function(){if(1===e){f.save();f.scale(a,a);for(let b=0;14>b;b++)f.drawImage(b<c?l:g,(k*b+(k/2-h/2))/a,0);f.restore()}},f:function(b){f=b},S:function(b){c=b}}};function W(d,e,k){var f="";let a;const {fontSize:l,fill:g,stroke:h,textAlign:c,fontFamily:b="system"}=k;return{b:function(){a.save();a.font=`${l}px ${b}`;a.fillStyle=g;c&&(a.textAlign=c);a.fillText(f,d,e);h&&(a.strokeStyle=h,a.strokeText(f,d,e));a.restore()},f:function(m){a=m},a:function(m){f=m}}};
