'use strict';function E(){return{Y:[["",0],["Jacks or Better Pair",1],["Two Pair",2],["Three of a Kind",3],["Straight",4],["Flush",6],["Full House",9],["Four of a Kind",12],["Straight Flush",15],["Royal Flush",18]],K:"23456789tjqka".split(""),ja:["s","h","c","d"],S:{s:"#1F191B",c:"#1F191B",h:"#CB1728",d:"#CB1728"},ia:{as:"\ud83c\udca1",ah:"\ud83c\udcb1",ad:"\ud83c\udcc1",ac:"\ud83c\udcd1","2s":"\ud83c\udca2","2h":"\ud83c\udcb2","2d":"\ud83c\udcc2","2c":"\ud83c\udcd2","3s":"\ud83c\udca3","3h":"\ud83c\udcb3",
"3d":"\ud83c\udcc3","3c":"\ud83c\udcd3","4s":"\ud83c\udca4","4h":"\ud83c\udcb4","4d":"\ud83c\udcc4","4c":"\ud83c\udcd4","5s":"\ud83c\udca5","5h":"\ud83c\udcb5","5d":"\ud83c\udcc5","5c":"\ud83c\udcd5","6s":"\ud83c\udca6","6h":"\ud83c\udcb6","6d":"\ud83c\udcc6","6c":"\ud83c\udcd6","7s":"\ud83c\udca7","7h":"\ud83c\udcb7","7d":"\ud83c\udcc7","7c":"\ud83c\udcd7","8s":"\ud83c\udca8","8h":"\ud83c\udcb8","8d":"\ud83c\udcc8","8c":"\ud83c\udcd8","9s":"\ud83c\udca9","9h":"\ud83c\udcb9","9d":"\ud83c\udcc9","9c":"\ud83c\udcd9",
ts:"\ud83c\udcaa",th:"\ud83c\udcba",td:"\ud83c\udcca",tc:"\ud83c\udcda",js:"\ud83c\udcab",jh:"\ud83c\udcbb",jd:"\ud83c\udccb",jc:"\ud83c\udcdb",qs:"\ud83c\udcad",qh:"\ud83c\udcbd",qd:"\ud83c\udccd",qc:"\ud83c\udcdd",ks:"\ud83c\udcae",kh:"\ud83c\udcbe",kd:"\ud83c\udcce",kc:"\ud83c\udcde"}}};CanvasRenderingContext2D.prototype.L=function(g,d,m,a,b){m<2*b&&(b=m/2);a<2*b&&(b=a/2);this.beginPath();this.moveTo(g+b,d);this.arcTo(g+m,d,g+m,d+a,b);this.arcTo(g+m,d+a,g,d+a,b);this.arcTo(g,d+a,g,d,b);this.arcTo(g,d,g+m,d,b);this.closePath()};
const H=G(),T=function(g){function d(){n=411;v=!0;u.C();k.a("");r.a("");a();l();C.Z()}function m(){z=g.subscribe(f);h.f(!0);u.f(!0)}function a(){x.a(`BALANCE ${n}`);const q=n-404;D.ga(14<q?14:0<q?q:0)}function b(){if(y){z();h.f(!1);u.f(!1);y=!1;w=[];--n;t=I();var q=t.J(5);u.fa(q,v).then(m);v&&(v=!1);a();k.a("");r.a("");h.a("SUBMIT")}else{z();h.f(!1);u.f(!1);c();{q=u.X();const [A,B]=J(q);q=n+B;n=418<q?418:q;a();k.a(A);B?r.a(`Win ${B}`):r.a("Better luck next time");418===n?C.show(!0):404===n?C.show(!1):
l()}}}function l(){y=!0;m();h.a("PLACE A BET")}function e(q){-1===w.indexOf(q)&&(h.a("DEAL AND SUBMIT"),w.push(q),u.ea(q))}function c(){if(w.length){const q=t.J(w.length),A=w.map((B,F)=>[B,q[F]]);u.da(A)}}function f(q){!y&&q.aa&&0<q.B&&6>q.B?e(q.B-1):q.ca&&b()}const p=M(function(q){const A=q.i,B=q.o,F=q.I,K=q.$,S=q.U,L=q.V;x.setPosition(q.l/2,q.O);x.H(S);r.setPosition(F+B-A,K);r.H(L);k.setPosition(B,K);k.H(L)}),u=N(function(q){!y&&0<=q&&5>q&&e(q)}),x=O({fill:"white",fontFamily:"Fredoka One"}),r=O({fill:"white",
textAlign:"right"}),k=O({fill:"white",textAlign:"left"}),h=P(b);let n=411,v=!0,t,w,y,z,D,C;return{D:function(q,A){D=Q(q,A);C=R(q,A,d);p.add(u,x,r,k,h,D,C);u.D();h.a("PLACE A BET");a();l();p.start()}}}(H),U=function(){const g=document.querySelector(".help-outer");let d=!0;return{toggle:function(){d=!d;g.style.display=d?"table":"none"}}}();let V=!1;const W=new Image;W.onload=X;W.src="assets/teapot_y.svg";const Y=new Image;Y.onload=X;Y.src="assets/teapot_p.svg";
function X(){V?(H.subscribe(Z),setTimeout(()=>{T.D(W,Y)},0)):V=!0}function Z(g){g.isEscape&&U.toggle()};function G(){function g(e){const c=Number(e.key),f={};" "===e.key?f.ca=!0:Number.isInteger(c)?(f.B=c,f.aa=!0):f[`is${e.key}`]=!0;b.forEach(p=>{a[p](f)})}function d(e){l=e.timeStamp}function m(e){if(1E3<e.timeStamp-l){const c={la:!0};b.forEach(f=>{a[f](c)})}}let a={},b=[],l;"ontouchstart"in window?(window.addEventListener("touchstart",d),window.addEventListener("touchend",m)):window.addEventListener("keyup",g);return{subscribe:function(e){const c=Date.now();a[c]=e;b=Object.keys(a);return function(){delete a[c];
b=Object.keys(a)}},reset:function(){a={};b=[]}}};function M(g){function d(){c.width=window.innerWidth;c.height=window.innerHeight;f.textAlign="center";f.textBaseline="middle";f.lineJoin="round";const h=c.width>c.height,n=c.width,v=c.height;var t=.6;let w=Math.round(v*t),y=Math.round(.66*w),z=Math.round(.06*w),D=5*(y+z);const C=Math.round(.045*v),q=Math.round(.75*C);for(;D>n;)t-=.05,w=Math.round(v*t),y=Math.round(.66*w),z=Math.round(.06*w),D=5*(y+z);t=(v-w)/2;const A={l:n,ch:v,v:w,A:y,i:z,I:D,o:(n-D+z)/2,u:t,O:.2*v,R:.8*v,$:t-1.5*z,P:Math.round(w*
(h?.2:.4)),U:C,V:q};r.forEach(B=>B.g(A));g(A)}function m(h){const n=a(h);x.forEach(v=>v(n))}function a(h){const n=c.getBoundingClientRect();return{x:h.pageX-n.left,y:h.pageY-n.top}}function b(h){k&&(l(h),f.clearRect(0,0,c.width,c.height),e());requestAnimationFrame(b)}function l(h){u.forEach(n=>n.update(h))}function e(){p.forEach(h=>h.b(f))}const c=document.querySelector("canvas"),f=c.getContext("2d");let p=[],u=[],x=[],r=[],k=!1;c.addEventListener("touchstart",m);c.addEventListener("click",m);window.addEventListener("resize",
d);c.width=window.innerWidth;c.height=window.innerHeight;f.textAlign="center";f.textBaseline="middle";f.lineJoin="round";requestAnimationFrame(b);return{ka:function(){return[c.width,c.height]},add:function(...h){h.forEach(n=>{p.push(n);"function"===typeof n.m&&x.push(n.m);"function"===typeof n.update&&u.push(n);"function"===typeof n.g&&r.push(n)})},start:function(){d();k=!0},stop:function(){k=!1}}};function I(){const {ja:g,K:d}=E(),m=g.reduce((a,b)=>{const l=d.map(e=>{{const {ia:c,K:f,S:p}=E();e={F:e,M:b,value:f.indexOf(e),ha:c[e+b],color:p[b]}}return e});return[...a,...l]},[]);for(let a=m.length-1;0<a;a--){const b=Math.floor(Math.random()*(a+1));[m[a],m[b]]=[m[b],m[a]]}return{J:function(a){return m.splice(-1*a)}}};function J(g){const {Y:d}=E(),m=[...g].sort(function(c,f){return c.value<f.value?1:c.value>f.value?-1:0});let a=!0,b=!0;const l=m.reduce((c,f,p)=>{a&&0!==p&&(a=f.value===m[p-1].value-1);b&&0!==p&&(b=f.M===m[p-1].M);c[f.F]?c[f.F].push(f):c[f.F]=[f];return c},{});g=d[0];var e=b&&a;e&&l.N&&1===l.N.length?g=d[9]:e?g=d[8]:b?g=d[5]:a?g=d[4]:(e=Object.keys(l).reduce((c,f)=>{c[l[f].length].push(l[f]);return c},{1:[],2:[],3:[],4:[]}),1===e["4"].length?g=d[7]:1===e["2"].length&&1===e["3"].length?g=d[6]:1===
e["3"].length?g=d[3]:2===e["2"].length?g=d[2]:1===e["2"].length&&e["2"][0].every(c=>8<c.value)&&(g=d[1]));return g};function P(g){function d(r,k,h){return r>=Math.min(k,h)&&r<=Math.max(k,h)}let m=!1,a,b,l,e,c,f,p,u,x="";return{b:function(r){r.save();r.fillStyle="#C35B68";r.L(a,b,c,f,p);r.fill();r.fillStyle="#DCB600";r.font=`${u}px "Fredoka One"`;r.fillText(x,l,e);r.restore()},a:function(r){x=r},m:function(r){var k;if(k=m)k=d(r.x,a,a+c)&&d(r.y,b,b+f);k&&g()},f:function(r){m=r},g:function({o:r,R:k,P:h,l:n,I:v,i:t}){a=r;b=k;l=n/2;e=k+h/2;c=v-t;f=h;p=Math.round(.1*f);u=Math.round(.66*f)}}};function N(g){let d=[],m=!1;return{b:function(a){d.forEach(b=>b.b(a))},ea:function(a){d[a].j(.16)},da:function(a){a.forEach(([b,l])=>{d[b].G(l);d[b].j(.16)})},X:function(){return d.map(a=>a.W())},fa:function(a,b){if(b)return d.reduce((l,e,c)=>l.then(()=>{e.G(a[c]);return e.j(.24)}),Promise.resolve());b=d.map((l,e)=>{l.G(a[e]);return l.j(.16)});return Promise.all(b).then(()=>d.reduce((l,e)=>l.then(()=>e.j(.24)),Promise.resolve()))},C:function(){d.forEach(a=>a.C())},D:function(){d=Array.from({length:5},
()=>aa())},m:function(a){if(m){let b=0;for(;5>b&&!d[b].ba(a);b++);g(b)}},f:function(a){m=a},update:function(){d.forEach(a=>a.update())},g:function({v:a,A:b,i:l,o:e,u:c}){d.forEach((f,p)=>{f.g({T:e+p*(b+l),v:a,A:b,i:l,u:c})})}}};function aa(){function g(k,h,n){return k>=Math.min(h,n)&&k<=Math.max(h,n)}let d,m,a,b,l,e,c,f=!0,p=!1,u=1,x=-.16,r=()=>{};return{b:function(k){k.save();const h=b/2;k.translate(m+h,a);k.scale(u,1);k.fillStyle="white";k.L(-1*h,0,b,l-c,c);k.fill();k.font=`${l}px sans-serif`;k.textBaseline="top";k.textAlign="left";k.fillStyle=f?"#DCB600":d.color;k.fillText(f?"\ud83c\udcbf":d.ha,-1*h,e);k.restore()},j:function(k){x=-1*k;p=!0;return new Promise(h=>{r=h})},C:function(){f=!0},G:function(k){d=k},W:function(){return d},
ba:function(k){return g(k.x,m,m+b)&&g(k.y,a,a+l)},update:function(){p&&(u+=x,0>=u?(u=0,x*=-1,f=!f):1<=u&&(u=1,x*=-1,p=!1,r()))},g:function({T:k,v:h,A:n,i:v,u:t}){a=t;m=k;b=n;l=h;e=v;c=e/2}}};function R(g,d,m){let a,b,l,e,c,f,p,u,x=!1,r=!1,k=!1,h=0,n=0,v=()=>{};return{b:function(t){if(r){const w=x?"#668706":"#DCB600",y=x?"YOU WON":"YOU LOSE",z=x?g:d;t.save();t.globalAlpha=h;t.fillStyle=w;t.fillRect(0,0,e,c);t.save();t.translate(p,u);t.scale(f,f);t.globalAlpha=n;t.drawImage(z,0,0);t.restore();1===h&&(t.font=`${l}px "Fredoka One"`,t.fillText(y,e/2,c/2+l/2));t.restore()}},show:function(t){x=t;return new Promise(w=>{v=w;setTimeout(()=>{k=r=!0},1E3)})},Z:function(){return new Promise(t=>{v=
t;k=!1})},g:function({l:t,ch:w}){const y=Math.min(t,w);l=Math.round(.12*y);e=t;c=w;f=1;a=g.width*f;for(b=g.height*f;a>1.08*y;)f-=.002,a=g.width*f,b=g.height*f;p=(t-a)/2;u=(w-b)/2},update:function(){r&&(k?1===h?(n+=.01,1<=n&&(n=1,v())):(h+=.02,1<=h&&(h=1)):0===n?(h-=.02,0>=h&&(h=0,v())):(n-=.01,0>=n&&(n=0)))},m:function(){1===n&&m()}}};function Q(g,d){let m,a,b,l;return{b:function(e){e.save();e.scale(b,b);for(let c=0;14>c;c++)e.drawImage(c<m?g:d,(a*c+(a/2-l/2))/b,0);e.restore()},ga:function(e){m=e},g:function({l:e}){a=e/14;b=.06;for(l=g.width*b;l>a;)b-=.002,l=g.width*b}}};function O(g){let d="",m,a,b,{fill:l,stroke:e,textAlign:c,fontFamily:f="system"}=g;return{b:function(p){p.save();p.font=`${b}px ${f}`;p.fillStyle=l;c&&(p.textAlign=c);p.fillText(d,m,a);e&&(p.strokeStyle=e,p.strokeText(d,m,a));p.restore()},a:function(p){d=p},setPosition:function(p,u){m=p;a=u},H:function(p){b=p},ma:function(){}}};
